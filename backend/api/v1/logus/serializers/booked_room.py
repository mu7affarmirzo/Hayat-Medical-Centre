import datetimefrom rest_framework import serializersfrom apps.logus.models import BookedRoomModelfrom api.v1.logus.serializers import RoomPriceSerializer, RoomModelSerializerfrom api.v1.organizations.serializers import PatientModelSerializerfrom apps.logus.models import BookedRoomModelclass BookedRoomModelSerializer(serializers.ModelSerializer):    patients = PatientModelSerializer()    room_price = RoomPriceSerializer()    room = RoomModelSerializer()    guests_count = serializers.SerializerMethodField("guests_count_func")    class Meta:        model = BookedRoomModel        exclude = ["modified_by", "created_by"]    def guests_count_func(self, obj: BookedRoomModel):        today = datetime.date.today()        return BookedRoomModel.objects.filter(room=obj.room, start_date__lt=today, end_date__gt=today).count()