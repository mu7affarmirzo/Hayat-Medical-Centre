import datetimefrom rest_framework import serializersfrom api.v1.logus.serializers import RoomPriceSerializer, RoomModelSerializerfrom api.v1.organizations.serializers import PatientModelSerializerfrom apps.logus.models import BookedRoomModelfrom apps.logus.models.booked_room import DISCOUNT_CHOICESclass BookedRoomModelSerializer(serializers.ModelSerializer):    patients = PatientModelSerializer()    room_price = RoomPriceSerializer()    room = RoomModelSerializer()    guests_count = serializers.SerializerMethodField("guests_count_func")    class Meta:        model = BookedRoomModel        fields = "__all__"        read_only_fields = ["modified_by", "created_by"]    def guests_count_func(self, obj: BookedRoomModel):        today = datetime.date.today()        return BookedRoomModel.objects.filter(room=obj.room, start_date__lt=today, end_date__gt=today).count()class SearchPatientSerializer(serializers.Serializer):    word = serializers.CharField(max_length=255)class BookedRoomCreateSerializer(serializers.ModelSerializer):    discount = serializers.IntegerField(default=0)    patients = serializers.IntegerField()    room_price = serializers.IntegerField()    room = serializers.IntegerField()    class Meta:        model = BookedRoomModel        exclude = ["is_checked_out", "abs_price"]        read_only_fields = ["modified_by", "created_by"]