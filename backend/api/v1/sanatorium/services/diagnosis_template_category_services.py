from django.shortcuts import get_object_or_404from rest_framework.response import Responsefrom api.v1.sanatorium.serializers import SearchSerializer, BasicTemplateModelSerializer, GetDiagnosisWithCategoryfrom apps.sanatorium.models import BasicTemplateModeldef search_diagnosis_with_category(request):    data = request.data    serializer = SearchSerializer(data=data)    if serializer.is_valid():        diagnosis = BasicTemplateModel.objects.filter(category__name=data["category"], name__search=data["word"])        serializer = BasicTemplateModelSerializer(diagnosis, many=True)        return Response(serializer.data)    return Response(serializer.errors)def get_diagnosis_with_category(request):    data = request.data    serializer = GetDiagnosisWithCategory(data=data)    if serializer.is_valid():        diagnosis = BasicTemplateModel.objects.filter(category__name=data["category"])        serializer = BasicTemplateModelSerializer(diagnosis, many=True)        return Response(serializer.data)    return Response(serializer.errors)def get_diagnosis_with_pk(pk):    diagnosis = get_object_or_404(BasicTemplateModel, pk=pk)    serializer = BasicTemplateModelSerializer(diagnosis)    return Response(serializer.data)def get_diagnosis_with_pk(pk):    diagnosis = get_object_or_404(BasicTemplateModel, pk=pk)    serializer = BasicTemplateModelSerializer(diagnosis)    return Response(serializer.data)