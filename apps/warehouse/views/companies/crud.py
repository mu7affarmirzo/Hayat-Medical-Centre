from django.contrib.auth.decorators import login_requiredfrom django.shortcuts import render, redirect, get_object_or_404from apps.warehouse.forms import CompanyModelCreateFormfrom apps.warehouse.models import CompanyModel@login_requireddef companies_get_view(request):    context = {}    branches = CompanyModel.objects.all()    context["companies"] = branches    return render(request, "companies/companies_list.html", context)@login_requireddef company_create(request):    if request.method == "POST":        form = CompanyModelCreateForm(request.POST)        if form.is_valid():            store_point: CompanyModel = form.save(commit=False)            store_point.created_by = request.user            store_point.modified_by = request.user            store_point.save()            return redirect("warehouse_companies:companies")    context = {}    form = CompanyModelCreateForm()    context["form"] = form    return render(request, "companies/company_create.html", context)@login_requireddef company_update(request, pk):    company_update = get_object_or_404(CompanyModel, pk=pk)    if request.method == "POST":        form = CompanyModelCreateForm(request.POST, instance=company_update)        if form.is_valid():            company: CompanyModel = form.save(commit=False)            company.created_by = request.user            company.modified_by = request.user            company.save()            return redirect("warehouse_companies:companies")    context = {}    form = CompanyModelCreateForm(instance=company_update)    context["form"] = form    return render(request, "companies/company_update.html", context)@login_requireddef store_point_delete(request, pk):    store_point = get_object_or_404(CompanyModel, pk=pk)    store_point.delete()    return redirect("warehouse_companies:companies")