from django import formsfrom django.forms import inlineformset_factoryfrom apps.warehouse.models import ChequeItemsModel, WarehouseChequeModel, ItemsInStockModel, StorePointStaffModelclass ChequeItemCountForm(forms.ModelForm):    class Meta:        model = ChequeItemsModel        fields = ["quantity", ]class ChequeForm(forms.ModelForm):    class Meta:        model = WarehouseChequeModel        fields = ['patient']        widgets = {            'patient': forms.Select(                attrs={                    'class': 'form-control'                }            ),        }class VariantForm(forms.ModelForm):    class Meta:        model = ChequeItemsModel        fields = [            'item', 'quantity',        ]        widgets = {            'item': forms.Select(                attrs={                    'class': 'form-control'                    }                ),            'quantity': forms.NumberInput(                attrs={                    'class': 'form-control'                    }                ),        }    def __init__(self, *args, **kwargs):        # Get additional parameters if provided        user = kwargs.pop('user', None)        store_point = StorePointStaffModel.objects.filter(staff=user)        store_point = store_point.first()        warehouse = store_point.store_point        super().__init__(*args, **kwargs)        self.fields['item'].queryset = ItemsInStockModel.objects.filter(warehouse=warehouse)VariantFormSet = inlineformset_factory(    WarehouseChequeModel, ChequeItemsModel, form=VariantForm,    extra=1, can_delete=True, can_delete_extra=True)